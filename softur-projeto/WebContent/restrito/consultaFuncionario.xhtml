<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="/WEB-INF/templateAdmin/principal.xhtml">

	<ui:define name="content">
		<div class="row">
			<div class="container-fluid">
              
              <h:form>
				<h:dataTable styleClass="table" var="funcionario" value="#{consultaFuncionarioBean.funcionarios}"
				  >
				    
				    <h:column>
						<f:facet name="header">
							Codigo
						</f:facet>
						
						<h:outputText value="#{funcionario.id}"/>
					</h:column>
				    
					<h:column>
						<f:facet name="header">
							Nome
						</f:facet>
						
						<h:outputText value="#{funcionario.nome}"/>
					</h:column>
				
                    <h:column>
						<f:facet name="header">
							Cargo
						</f:facet>
						
						<h:outputText value="#{funcionario.cargo.nomeCargo}"/>
					</h:column>
					
					<h:column>
						<f:facet name="header">
							Data Admissão
						</f:facet>
						
						<h:outputText value="#{funcionario.dataAdmissao}">
						    <f:convertDateTime pattern="dd/MM/yyyy"/>
						</h:outputText>
					</h:column>
					
					<h:column>
						<f:facet name="header">
							Salário
						</f:facet>
						
						<h:outputText value="#{funcionario.salario}">
						     <f:convertNumber locale="pt_BR" currencySymbol="R$" type="currency"/>
						</h:outputText>
					</h:column>
					
					<h:column>
						<f:facet name="header">
							Telefone
						</f:facet>
						
						<h:outputText value="#{funcionario.telefone}"/>
					</h:column>
					
					<h:column>
						<f:facet name="header">
							CPF
						</f:facet>
						
						<h:outputText value="#{funcionario.cpf}"/>
					</h:column>
					
					<h:column>
						<f:facet name="header">
							E-mail
						</f:facet>
						
						<h:outputText value="#{funcionario.email}"/>
					</h:column>
					
                    
                    <h:column>
                            <h:link outcome="cadastroFuncionario">
                                <span class="glyphicon glyphicon-pencil"></span>
                                <f:param name="codigo" value="#{funcionario.id}"/>
                            </h:link>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		                    <h:commandLink action="#{consultaFuncionarioBean.excluir}" style="color:red;"
		                    onclick="if(!confirm('Deseja realmente excluir ?')) return false;">
		                        <span class="glyphicon glyphicon-remove-circle"></span>
		                        <f:setPropertyActionListener target="#{consultaFuncionarioBean.funcionarioSelecionado}" 
		                        value="#{funcionario}"/>
		                        <f:ajax render="@form"/>
		                    </h:commandLink>    
                    </h:column>                    
				</h:dataTable>
              </h:form>				
			</div>
		</div>

	</ui:define>
</ui:composition>
</html>
