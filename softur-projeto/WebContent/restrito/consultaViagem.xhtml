<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<ui:composition template="/WEB-INF/templateAdmin/principal.xhtml">

	<ui:define name="content">
		<div class="row">
			<div class="container-fluid">
              
              <h:form id="form">
                 <h:messages infoClass="alert alert-info" errorClass="alert alert-danger" showDetail="false" 
				   style="list-style-type: none;"/>
              
				<h:dataTable styleClass="table" var="viagem" value="#{consultaViagemBean.viagensList}">
				    
				    <h:column>
						<f:facet name="header">
							Codigo
						</f:facet>
						
						<h:outputText value="#{viagem.id}"/>
					</h:column>
				    
				    <h:column>
						<f:facet name="header">
							Número Veículo
						</f:facet>
						
						<h:outputText value="#{viagem.veiculo.numero}"/>
		            </h:column>
				    
					<h:column>
						<f:facet name="header">
							Funcionario
						</f:facet>
						
						<h:outputText value="#{viagem.funcionario.nome}"/>
		            </h:column>
		            
		            <h:column>
						<f:facet name="header">
							Data
						</f:facet>
						
						<h:outputText value="#{viagem.data}"/>
		            </h:column>
		            
		            <h:column>
						<f:facet name="header">
							Horário
						</f:facet>
						
						<h:outputText value="#{viagem.horario}"/>
		            </h:column>
		            
		            <h:column>
						<f:facet name="header">
							Destino
						</f:facet>
						
						<h:outputText value="#{viagem.destino}"/>
		            </h:column>
		            
		            <h:column>
						<f:facet name="header">
							Cliente
						</f:facet>
						
						<h:outputText value="#{viagem.cliente.nome}"/>
		            </h:column>
		            
		            <h:column>
						<f:facet name="header">
							Valor
						</f:facet>
						
						<h:outputText value="#{viagem.valor}"/>
		            </h:column>
		            
		            <h:column>
						<f:facet name="header">
							Situação
						</f:facet>
						
						<h:outputText value="#{viagem.situacao}"/>
		            </h:column>
		 
		            <h:column>  
		                    <h:link outcome="cadastroViagem">
                                <span class="glyphicon glyphicon-pencil"></span>
                                <f:param name="codigo" value="#{viagem.id}"/>
                            </h:link>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
		                    <h:commandLink action="#{consultaViagemBean.excluir}" style="color:red;"
		                    onclick="if(!confirm('Deseja realmente excluir ?')) return false;">
		                        <span class="glyphicon glyphicon-remove-circle"></span>
		                        <f:setPropertyActionListener target="#{consultaViagemBean.viagemSelecionada}" 
		                        value="#{viagem}"/>
		                        <f:ajax render="@form" />
		                    </h:commandLink>    
                    </h:column>                       
				</h:dataTable>
              </h:form>
              				
			</div>
		</div>

	</ui:define>
</ui:composition>

</html>
